"use strict";(globalThis.webpackChunkmy_book=globalThis.webpackChunkmy_book||[]).push([[8155],{5268(e,n,i){i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>r,default:()=>h,frontMatter:()=>t,metadata:()=>o,toc:()=>d});const o=JSON.parse('{"id":"gazebo-setup","title":"Setting Up the Gazebo Simulation Environment","description":"Gazebo is a powerful and widely-used 3D robotics simulator. It allows you to model complex robots and environments, and it includes a high-fidelity physics engine that simulates gravity, friction, and collisions. For ROS 2 developers, Gazebo is an essential tool for testing and developing robot software before deploying it on physical hardware.","source":"@site/docs/10-gazebo-setup.md","sourceDirName":".","slug":"/gazebo-setup","permalink":"/my-book/docs/gazebo-setup","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":10,"frontMatter":{"sidebar_position":10},"sidebar":"tutorialSidebar","previous":{"title":"ROS 2 Launch Files and Parameter Management","permalink":"/my-book/docs/ros2-launch-files-parameters"},"next":{"title":"URDF and SDF: Describing Your Robot","permalink":"/my-book/docs/urdf-sdf"}}');var s=i(2540),a=i(3023);const t={sidebar_position:10},r="Setting Up the Gazebo Simulation Environment",l={},d=[{value:"Installation",id:"installation",level:2},{value:"The Gazebo Architecture",id:"the-gazebo-architecture",level:2},{value:"Launching Gazebo",id:"launching-gazebo",level:2},{value:"Launching Gazebo with ROS 2",id:"launching-gazebo-with-ros-2",level:3},{value:"The Gazebo World",id:"the-gazebo-world",level:2},{value:"Spawning a Robot",id:"spawning-a-robot",level:2}];function c(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"setting-up-the-gazebo-simulation-environment",children:"Setting Up the Gazebo Simulation Environment"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Gazebo"})," is a powerful and widely-used 3D robotics simulator. It allows you to model complex robots and environments, and it includes a high-fidelity physics engine that simulates gravity, friction, and collisions. For ROS 2 developers, Gazebo is an essential tool for testing and developing robot software before deploying it on physical hardware."]}),"\n",(0,s.jsx)(n.p,{children:"This guide covers the basics of installing and running Gazebo with ROS 2."}),"\n",(0,s.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,s.jsxs)(n.p,{children:["Gazebo is tightly integrated with ROS 2. The recommended way to install it is through the ",(0,s.jsx)(n.code,{children:"ros-dev-tools"})," and the Gazebo ROS package."]}),"\n",(0,s.jsx)(n.p,{children:"For most ROS 2 distributions (like Humble or Iron), you can install Gazebo with the following command:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"sudo apt-get install ros-<distro>-gazebo-ros-pkgs\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Replace ",(0,s.jsx)(n.code,{children:"<distro>"})," with the name of your ROS 2 distribution (e.g., ",(0,s.jsx)(n.code,{children:"humble"}),"). This command installs Gazebo itself, as well as the necessary plugins to interface it with ROS 2."]}),"\n",(0,s.jsx)(n.h2,{id:"the-gazebo-architecture",children:"The Gazebo Architecture"}),"\n",(0,s.jsx)(n.p,{children:"Gazebo runs as two main processes:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsxs)(n.strong,{children:["Gazebo Server (",(0,s.jsx)(n.code,{children:"gzserver"}),")"]}),": This is the headless backend that runs the physics simulation, generates sensor data, and accepts commands. You can run ",(0,s.jsx)(n.code,{children:"gzserver"})," on its own without any graphical interface."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsxs)(n.strong,{children:["Gazebo Client (",(0,s.jsx)(n.code,{children:"gzclient"}),")"]}),": This is the graphical front-end that connects to the ",(0,s.jsx)(n.code,{children:"gzserver"})," and visualizes the simulation. You can use it to inspect the environment, interact with models, and view sensor outputs."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"launching-gazebo",children:"Launching Gazebo"}),"\n",(0,s.jsx)(n.p,{children:"You can launch a simple, empty world in Gazebo using the following command:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"gazebo\n"})}),"\n",(0,s.jsx)(n.p,{children:"To launch a specific world file, you can pass it as an argument:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"gazebo worlds/empty.world\n"})}),"\n",(0,s.jsx)(n.h3,{id:"launching-gazebo-with-ros-2",children:"Launching Gazebo with ROS 2"}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"gazebo_ros"})," package provides a convenient launch file for starting Gazebo. You can run it with:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"ros2 launch gazebo_ros gazebo.launch.py\n"})}),"\n",(0,s.jsx)(n.p,{children:"This launch file starts the Gazebo server and client. You can also pass arguments to it. For example, to launch a specific world file:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"ros2 launch gazebo_ros gazebo.launch.py world:=/path/to/your/world.sdf\n"})}),"\n",(0,s.jsx)(n.h2,{id:"the-gazebo-world",children:"The Gazebo World"}),"\n",(0,s.jsxs)(n.p,{children:["A Gazebo ",(0,s.jsx)(n.strong,{children:"world"})," is described in a file using the ",(0,s.jsx)(n.strong,{children:"Simulation Description Format (SDF)"}),". A ",(0,s.jsx)(n.code,{children:".world"})," file (which is an SDF file) defines everything in the simulation, including:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"The environment (lighting, gravity)."}),"\n",(0,s.jsx)(n.li,{children:"Static objects (buildings, furniture, terrain)."}),"\n",(0,s.jsx)(n.li,{children:"Robot models."}),"\n",(0,s.jsx)(n.li,{children:"The physics properties of the world."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Here is a snippet from a simple world file:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:"<sdf version='1.7'>\r\n  <world name='default'>\r\n    <light name='sun' type='directional'>\r\n      ...\r\n    </light>\r\n    <gravity>0 0 -9.8</gravity>\r\n    <scene>\r\n      <ambient>0.4 0.4 0.4 1</ambient>\r\n      <background>0.7 0.7 0.7 1</background>\r\n    </scene>\r\n    <include>\r\n      <uri>model://ground_plane</uri>\r\n    </include>\r\n    <include>\r\n      <uri>model://sun</uri>\r\n    </include>\r\n  </world>\r\n</sdf>\n"})}),"\n",(0,s.jsx)(n.h2,{id:"spawning-a-robot",children:"Spawning a Robot"}),"\n",(0,s.jsxs)(n.p,{children:['To add a robot to your Gazebo simulation, you "spawn" it. This is typically done using a ROS 2 node that calls the ',(0,s.jsx)(n.code,{children:"/spawn_entity"})," service provided by Gazebo."]}),"\n",(0,s.jsx)(n.p,{children:"The process usually involves:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Having your robot's model described in a URDF or SDF file."}),"\n",(0,s.jsx)(n.li,{children:"Starting a Gazebo world."}),"\n",(0,s.jsxs)(n.li,{children:["Using a launch file to run a ",(0,s.jsx)(n.code,{children:"spawn_entity.py"})," node, which reads your robot's description file and sends it to Gazebo to be added to the simulation."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"We will cover robot description formats like URDF and SDF in the next section. Mastering Gazebo is fundamental for any roboticist, as it provides a safe, fast, and cost-effective way to iterate on your robot's design and control algorithms."})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},3023(e,n,i){i.d(n,{R:()=>t,x:()=>r});var o=i(3696);const s={},a=o.createContext(s);function t(e){const n=o.useContext(a);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),o.createElement(a.Provider,{value:n},e.children)}}}]);