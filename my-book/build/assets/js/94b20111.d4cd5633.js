"use strict";(globalThis.webpackChunkmy_book=globalThis.webpackChunkmy_book||[]).push([[9139],{9382(e,n,r){r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>t,default:()=>u,frontMatter:()=>s,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"lab1-gazebo-urdf","title":"Lab: Simulating a URDF Model in Gazebo","description":"This lab will guide you through launching a simple URDF (Unified Robot Description Format) model in Gazebo and interacting with it using ROS 2.","source":"@site/docs/lab1-gazebo-urdf.md","sourceDirName":".","slug":"/lab1-gazebo-urdf","permalink":"/my-book/docs/lab1-gazebo-urdf","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"ROS 2 Nodes and Topics","permalink":"/my-book/docs/nodes-topics"},"next":{"title":"Foundations of Physical AI and Embodied Intelligence","permalink":"/my-book/docs/physical-ai-foundations"}}');var a=r(2540),o=r(3023);const s={sidebar_position:2},t="Lab: Simulating a URDF Model in Gazebo",d={},l=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"1. Create a URDF Package",id:"1-create-a-urdf-package",level:2},{value:"2. Define Your Robot (URDF)",id:"2-define-your-robot-urdf",level:2},{value:"3. Launch File for Gazebo",id:"3-launch-file-for-gazebo",level:2},{value:"4. Update <code>CMakeLists.txt</code> and <code>package.xml</code>",id:"4-update-cmakeliststxt-and-packagexml",level:2},{value:"5. Build and Launch",id:"5-build-and-launch",level:2}];function c(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"lab-simulating-a-urdf-model-in-gazebo",children:"Lab: Simulating a URDF Model in Gazebo"})}),"\n",(0,a.jsx)(n.p,{children:"This lab will guide you through launching a simple URDF (Unified Robot Description Format) model in Gazebo and interacting with it using ROS 2."}),"\n",(0,a.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"A working ROS 2 installation."}),"\n",(0,a.jsxs)(n.li,{children:["Gazebo installed (usually ",(0,a.jsx)(n.code,{children:"ros-<distro>-gazebo-ros-pkgs"}),")."]}),"\n",(0,a.jsx)(n.li,{children:"Familiarity with ROS 2 concepts (nodes, topics) from Module 1."}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"1-create-a-urdf-package",children:"1. Create a URDF Package"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Create a new ROS 2 workspace"})," (if you don't have one):"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"mkdir -p ~/gazebo_urdf_ws/src\r\ncd ~/gazebo_urdf_ws/src\n"})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Create a new package"}),":"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"ros2 pkg create --build-type ament_cmake my_robot_description\r\ncd my_robot_description\n"})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsxs)(n.strong,{children:["Create a ",(0,a.jsx)(n.code,{children:"urdf"})," directory"]}),":"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"mkdir urdf\n"})}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"2-define-your-robot-urdf",children:"2. Define Your Robot (URDF)"}),"\n",(0,a.jsxs)(n.p,{children:["Create a file named ",(0,a.jsx)(n.code,{children:"simple_robot.urdf"})," inside the ",(0,a.jsx)(n.code,{children:"urdf"})," directory (",(0,a.jsx)(n.code,{children:"~/gazebo_urdf_ws/src/my_robot_description/urdf/simple_robot.urdf"}),")."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0"?>\r\n<robot name="simple_robot">\r\n\r\n  <link name="base_link">\r\n    <visual>\r\n      <geometry>\r\n        <box size="0.2 0.2 0.2"/>\r\n      </geometry>\r\n      <material name="blue">\r\n        <color rgba="0 0 1 1"/>\r\n      </material>\r\n    </visual>\r\n    <collision>\r\n      <geometry>\r\n        <box size="0.2 0.2 0.2"/>\r\n      </geometry>\r\n    </collision>\r\n    <inertial>\r\n      <mass value="1.0"/>\r\n      <inertia ixx="0.01" ixy="0" ixz="0" iyy="0.01" iyz="0" izz="0.01"/>\r\n    </inertial>\r\n  </link>\r\n\r\n  <gazebo reference="base_link">\r\n    <material>Gazebo/Blue</material>\r\n  </gazebo>\r\n\r\n</robot>\n'})}),"\n",(0,a.jsx)(n.h2,{id:"3-launch-file-for-gazebo",children:"3. Launch File for Gazebo"}),"\n",(0,a.jsxs)(n.p,{children:["Create a ",(0,a.jsx)(n.code,{children:"launch"})," directory in your package (",(0,a.jsx)(n.code,{children:"~/gazebo_urdf_ws/src/my_robot_description/launch/"}),").\r\nCreate a file named ",(0,a.jsx)(n.code,{children:"display_robot.launch.py"})," inside it."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:"import os\r\nfrom ament_index_python.packages import get_package_share_directory\r\nfrom launch import LaunchDescription\r\nfrom launch_ros.actions import Node\r\nfrom launch.actions import ExecuteProcess\r\nfrom launch.substitutions import LaunchConfiguration\r\n\r\ndef generate_launch_description():\r\n    pkg_name = 'my_robot_description'\r\n    urdf_file = os.path.join(get_package_share_directory(pkg_name), 'urdf', 'simple_robot.urdf')\r\n\r\n    return LaunchDescription([\r\n        # Launch Gazebo\r\n        ExecuteProcess(\r\n            cmd=['gazebo', '--verbose', '-s', 'libgazebo_ros_factory.so'],\r\n            output='screen'\r\n        ),\r\n        # Spawn robot in Gazebo\r\n        Node(\r\n            package='gazebo_ros',\r\n            executable='spawn_entity.py',\r\n            arguments=['-entity', 'simple_robot', '-file', urdf_file, '-x', '0', '-y', '0', '-z', '1'],\r\n            output='screen'\r\n        )\r\n    ])\n"})}),"\n",(0,a.jsxs)(n.h2,{id:"4-update-cmakeliststxt-and-packagexml",children:["4. Update ",(0,a.jsx)(n.code,{children:"CMakeLists.txt"})," and ",(0,a.jsx)(n.code,{children:"package.xml"})]}),"\n",(0,a.jsxs)(n.p,{children:["Modify ",(0,a.jsx)(n.code,{children:"~/gazebo_urdf_ws/src/my_robot_description/CMakeLists.txt"}),":"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-cmake",children:'cmake_minimum_required(VERSION 3.8)\r\nproject(my_robot_description)\r\n\r\nif(CMAKE_COMPILER_ID STREQUAL "GNU")\r\n  add_compile_options(-Wall -Wextra -Wpedantic)\r\nendif()\r\n\r\nfind_package(ament_cmake REQUIRED)\r\nfind_package(rclpy REQUIRED)\r\nfind_package(std_msgs REQUIRED)\r\nfind_package(gazebo_ros REQUIRED)\r\n\r\ninstall(\r\n    DIRECTORY urdf launch\r\n    DESTINATION share/${PROJECT_NAME}\r\n)\r\n\r\nament_package()\n'})}),"\n",(0,a.jsxs)(n.p,{children:["Modify ",(0,a.jsx)(n.code,{children:"~/gazebo_urdf_ws/src/my_robot_description/package.xml"}),":"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0"?>\r\n<?xml-model href="http://download.ros.org/schema/package_format3.xsd" schematypens="http://www.w3.org/2001/XMLSchema"?>\r\n<package format="3">\r\n  <name>my_robot_description</name>\r\n  <version>0.0.0</version>\r\n  <description>TODO: Package description</description>\r\n  <maintainer email="user@example.com">user</maintainer>\r\n  <license>TODO: License declaration</license>\r\n\r\n  <buildtool_depend>ament_cmake</buildtool_depend>\r\n\r\n  <depend>rclpy</depend>\r\n  <depend>std_msgs</depend>\r\n  <depend>gazebo_ros</depend>\r\n\r\n  <test_depend>ament_lint_auto</test_depend>\r\n  <test_depend>ament_lint_common</test_depend>\r\n\r\n  <export>\r\n    <build_type>ament_cmake</build_type>\r\n  </export>\r\n</package>\n'})}),"\n",(0,a.jsx)(n.h2,{id:"5-build-and-launch",children:"5. Build and Launch"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Build your workspace"}),":"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"cd ~/gazebo_urdf_ws\r\ncolcon build --packages-select my_robot_description\n"})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Source the workspace"}),":"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"source install/setup.bash\n"})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Launch the robot in Gazebo"}),":"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"ros2 launch my_robot_description display_robot.launch.py\n"})}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"Gazebo should launch with your simple blue box robot. You can interact with it by pushing it around with your mouse.\r\nCongratulations, you've successfully launched a URDF model in Gazebo using ROS 2!"})]})}function u(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}},3023(e,n,r){r.d(n,{R:()=>s,x:()=>t});var i=r(3696);const a={},o=i.createContext(a);function s(e){const n=i.useContext(o);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),i.createElement(o.Provider,{value:n},e.children)}}}]);