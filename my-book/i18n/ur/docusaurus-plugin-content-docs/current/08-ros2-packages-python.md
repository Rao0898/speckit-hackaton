---
sidebar_position: 8
---

# پائتھون کے ساتھ ROS 2 پیکیجز بنانا

ROS 2 میں، کوڈ کو **پیکیجز (packages)** میں منظم کیا جاتا ہے۔ ایک پیکیج ایک ڈائریکٹری ہوتی ہے جس میں آپ کا سورس کوڈ (مثلاً، پائتھون اسکرپٹس)، لانچ فائلز، کنفیگریشن فائلز، اور ایک `package.xml` فائل ہوتی ہے جو پیکیج کے بارے میں میٹا ڈیٹا فراہم کرتی ہے۔ ROS 2 کے ذریعے استعمال ہونے والا بلڈ سسٹم **colcon** کہلاتا ہے۔

یہ گائیڈ آپ کو پائتھون پر مبنی ROS 2 پیکیج کی معیاری ساخت اور اسے بنانے کے عمل سے آگاہ کرے گا۔

## ROS 2 ورک اسپیس

ایک پیکیج بنانے سے پہلے، آپ کو ایک **ورک اسپیس (workspace)** کی ضرورت ہوتی ہے۔ ایک ورک اسپیس ایک ڈائریکٹری ہے جہاں آپ اپنے ROS 2 پیکیجز کو اسٹور اور بنائیں گے۔

ایک عام ورک اسپیس کی ساخت اس طرح نظر آتی ہے:
```
ros2_ws/
├── src/      # سورس اسپیس: جہاں آپ اپنا پیکیج سورس کوڈ رکھتے ہیں۔
├── build/    # بلڈ اسپیس: جہاں colcon انٹرمیڈیٹ بلڈ فائلز کو اسٹور کرتا ہے۔
├── install/  # انسٹال اسپیس: جہاں حتمی پیکیج فائلز انسٹال کی جاتی ہیں۔
└── log/      # لاگ اسپیس: جہاں colcon لاگ معلومات کو اسٹور کرتا ہے۔
```

## پائتھون کے ساتھ ROS 2 پیکیج بنانا

آپ `ros2 pkg create` کمانڈ کا استعمال کرکے ایک نیا پیکیج بنا سکتے ہیں۔ آئیے ایک سادہ پبلشر/سبسکرائبر پیکیج بناتے ہیں۔

1.  اپنی ورک اسپیس کی `src` ڈائریکٹری میں جائیں:
    ```bash
    cd ~/ros2_ws/src
    ```

2.  پیکیج تخلیق کی کمانڈ چلائیں:
    ```bash
    ros2 pkg create --build-type ament_python --node-name my_publisher my_python_pkg
    ```
    - `--build-type ament_python`: یہ بتاتا ہے کہ یہ ایک پائتھون پیکیج ہے۔
    - `--node-name my_publisher`: خود بخود `my_publisher` نامی نوڈ کے لیے ایک بنیادی قابل عمل اسکرپٹ بناتا ہے۔
    - `my_python_pkg`: آپ کے نئے پیکیج کا نام۔

یہ `my_python_pkg` نامی ایک ڈائریکٹری تیار کرے گا جس کی ساخت درج ذیل ہوگی:

```
my_python_pkg/
├── my_python_pkg/
│   ├── __init__.py
│   └── my_publisher.py   # آپ کا پائتھون نوڈ اسکرپٹ
├── resource/
│   └── my_python_pkg
├── test/
│   ├── test_copyright.py
│   ├── test_flake8.py
│   └── test_pep257.py
├── package.xml           # پیکیج مینی فیسٹ
└── setup.py              # پائتھون پیکیج سیٹ اپ اسکرپٹ
└── setup.cfg
```

## پائتھون پیکیج میں کلیدی فائلیں

### `package.xml`

اس فائل میں آپ کے پیکیج کے بارے میں میٹا ڈیٹا ہوتا ہے، جیسے اس کا نام، ورژن، مصنف، اور انحصار۔ جب آپ ایک پیکیج بناتے ہیں، تو آپ کو اس کے انحصار یہاں شامل کرنے کی ضرورت ہوتی ہے۔ ایک سادہ پائتھون پبلشر کے لیے، آپ شامل کریں گے:

```xml
<depend>rclpy</depend>
<depend>std_msgs</depend>
```

`rclpy` پائتھون کے لیے ROS 2 کلائنٹ لائبریری ہے، اور `std_msgs` معیاری پیغام کی اقسام پر مشتمل ہے۔

### `setup.py`

یہ آپ کے پائتھون پیکیج کے لیے بلڈ اسکرپٹ ہے۔ یہ `colcon` کو بتاتا ہے کہ آپ کے پیکیج کو کیسے انسٹال کرنا ہے اور اس کی قابل عمل اسکرپٹس (آپ کے نوڈز) کو کہاں تلاش کرنا ہے۔ اس فائل کا ایک اہم حصہ `setup()` فنکشن کے اندر `entry_points` ڈکشنری ہے۔

```python
entry_points={
    'console_scripts': [
        'my_publisher = my_python_pkg.my_publisher:main',
    ],
},
```
یہ لائن `my_publisher` نامی ایک "کنسول اسکرپٹ" یا قابل عمل بناتی ہے۔ جب آپ یہ اسکرپٹ چلاتے ہیں، تو یہ آپ کے `my_python_pkg` ماڈیول کے اندر `my_publisher.py` فائل میں واقع `main` فنکشن کو عمل میں لائے گا۔

### آپ کا پائتھون نوڈ (`my_publisher.py`)

یہ وہ جگہ ہے جہاں آپ اپنے ROS 2 نوڈ کے لیے منطق لکھتے ہیں۔ ٹیمپلیٹ آپ کو بھرنے کے لیے ایک کم سے کم کلاس ڈھانچہ بنائے گا۔ آپ `rclpy`، پیغام کی اقسام کو امپورٹ کریں گے، اور پھر اپنے نوڈ کی کلاس کے اندر اپنے پبلشر، سبسکرائبر، سروس، یا ایکشن کلائنٹس/سرورز کی وضاحت کریں گے۔

## اپنے پیکیج کو بنانا اور سورس کرنا

1.  **پیکیج بنائیں**: اپنی ورک اسپیس کی روٹ (`~/ros2_ws`) سے، `colcon build` کمانڈ چلائیں:
    ```bash
    colcon build
    ```
    `colcon` آپ کی `src` ڈائریکٹری میں تمام پیکیجز کو تلاش کرے گا، ان کے انحصار کو حل کرے گا، اور انہیں بنائے گا، آؤٹ پٹ کو `build` اور `install` ڈائریکٹریوں میں رکھے گا۔

2.  **ورک اسپیس کو سورس کریں**: کامیاب بلڈ کے بعد، آپ کو `install` ڈائریکٹری میں `setup.bash` فائل کو "سورس" کرنے کی ضرورت ہے۔ یہ اسکرپٹ آپ کے نئے بنائے گئے پیکیج کو آپ کے شیل کے ماحول میں شامل کرتا ہے، جس سے ROS 2 آپ کے نوڈز کو تلاش کر سکتا ہے۔
    ```bash
    source ~/ros2_ws/install/setup.bash
    ```
    آپ کو یہ ہر نئے ٹرمینل میں کرنا ہوگا جو آپ کھولتے ہیں۔

3.  **اپنے نوڈ کو چلائیں**: اب آپ `ros2 run` کا استعمال کرکے اپنے نوڈ کو چلا سکتے ہیں:
    ```bash
    ros2 run my_python_pkg my_publisher
    ```

یہ ورک فلو — بنانا، کوڈ کرنا، بنانا، سورس کرنا، چلانا — کسی بھی ROS 2 ایپلیکیشن کو بنانے کے لیے بنیادی ترقیاتی سائیکل ہے۔